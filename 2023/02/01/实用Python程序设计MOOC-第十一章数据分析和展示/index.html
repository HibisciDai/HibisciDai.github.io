<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="实用Python程序设计MOOC-第十一章数据分析和展示"><meta name="keywords" content="学习笔记,Python,PythonMOOC"><meta name="author" content="HibisciDai"><meta name="copyright" content="HibisciDai"><title>实用Python程序设计MOOC-第十一章数据分析和展示 | HibisciDai</title><link rel="shortcut icon" href="/img/avatar.png"><link rel="stylesheet" href="/css/index.css?version=1.9.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.9.0"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css?version=1.9.0"><meta name="format-detection" content="telephone=no"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="manifest" href="/manifest.json"><link rel="manifest" href="/manifest.json"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script src="https://v1.hitokoto.cn/?encode=js&amp;charset=utf-8&amp;select=.footer_custom_text" defer></script><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容:${query}"}},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  hexoVersion: '6.1.0'
} </script><meta name="generator" content="Hexo 6.1.0"><link rel="alternate" href="/atom.xml" title="HibisciDai" type="application/atom+xml">
</head><body><canvas class="fireworks"></canvas><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar" data-display="true"><div class="toggle-sidebar-info text-center"><span data-toggle="切换文章详情">切换站点概览</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AE%9E%E7%94%A8Python%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1MOOC-%E7%AC%AC%E5%8D%81%E4%B8%80%E7%AB%A0%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E5%92%8C%E5%B1%95%E7%A4%BA"><span class="toc-number">1.</span> <span class="toc-text">实用Python程序设计MOOC-第十一章数据分析和展示</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%A4%9A%E7%BB%B4%E6%95%B0%E7%BB%84%E5%BA%93numpy"><span class="toc-number">2.</span> <span class="toc-text">多维数组库numpy</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#numpy%E7%AE%80%E4%BB%8B"><span class="toc-number">2.1.</span> <span class="toc-text">numpy简介</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#numpy%E5%88%9B%E5%BB%BA%E6%95%B0%E7%BB%84%E7%9A%84%E5%87%BD%E6%95%B0"><span class="toc-number">2.2.</span> <span class="toc-text">numpy创建数组的函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#numpy%E5%88%9B%E5%BB%BA%E6%95%B0%E7%BB%84%E7%A4%BA%E4%BE%8B"><span class="toc-number">2.3.</span> <span class="toc-text">numpy创建数组示例</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#numpy%E6%95%B0%E7%BB%84%E5%B8%B8%E7%94%A8%E5%B1%9E%E6%80%A7%E5%92%8C%E5%87%BD%E6%95%B0"><span class="toc-number">2.4.</span> <span class="toc-text">numpy数组常用属性和函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#numpy%E6%95%B0%E7%BB%84%E5%85%83%E7%B4%A0%E5%A2%9E%E5%88%A0"><span class="toc-number">2.5.</span> <span class="toc-text">numpy数组元素增删</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#numpy%E6%B7%BB%E5%8A%A0%E6%95%B0%E7%BB%84%E5%85%83%E7%B4%A0"><span class="toc-number">2.6.</span> <span class="toc-text">numpy添加数组元素</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#numpy%E5%88%A0%E9%99%A4%E6%95%B0%E7%BB%84%E5%85%83%E7%B4%A0"><span class="toc-number">2.7.</span> <span class="toc-text">numpy删除数组元素</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9C%A8numpy%E6%95%B0%E7%BB%84%E4%B8%AD%E6%9F%A5%E6%89%BE%E5%85%83%E7%B4%A0"><span class="toc-number">2.8.</span> <span class="toc-text">在numpy数组中查找元素</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#numpy%E6%95%B0%E7%BB%84%E7%9A%84%E6%95%B0%E5%AD%A6%E8%BF%90%E7%AE%97"><span class="toc-number">2.9.</span> <span class="toc-text">numpy数组的数学运算</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#numpy%E6%95%B0%E7%BB%84%E7%9A%84%E5%88%87%E7%89%87"><span class="toc-number">2.10.</span> <span class="toc-text">numpy数组的切片</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E5%BA%93pandas"><span class="toc-number">3.</span> <span class="toc-text">数据分析库pandas</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#pandas-%E7%AE%80%E4%BB%8B"><span class="toc-number">3.1.</span> <span class="toc-text">pandas 简介</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#pandas%E7%9A%84%E9%87%8D%E8%A6%81%E7%B1%BB%EF%BC%9A-Series"><span class="toc-number">3.2.</span> <span class="toc-text">pandas的重要类： Series</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DataFrame%E7%9A%84%E6%9E%84%E9%80%A0%E5%92%8C%E8%AE%BF%E9%97%AE"><span class="toc-number">3.3.</span> <span class="toc-text">DataFrame的构造和访问</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DataFrame%E7%9A%84%E5%88%87%E7%89%87%E5%92%8C%E7%BB%9F%E8%AE%A1"><span class="toc-number">3.4.</span> <span class="toc-text">DataFrame的切片和统计</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DataFrame%E7%9A%84%E5%88%86%E6%9E%90%E7%BB%9F%E8%AE%A1"><span class="toc-number">3.5.</span> <span class="toc-text">DataFrame的分析统计</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DataFrame%E7%9A%84%E4%BF%AE%E6%94%B9%E5%92%8C%E5%A2%9E%E5%88%A0"><span class="toc-number">3.6.</span> <span class="toc-text">DataFrame的修改和增删</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E5%BA%93pandas%E8%AF%BB%E5%86%99excel%E5%92%8Ccsv%E6%96%87%E6%A1%A3"><span class="toc-number">4.</span> <span class="toc-text">数据分析库pandas读写excel和csv文档</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%A8pandas%E8%AF%BBexcel%E6%96%87%E6%A1%A3"><span class="toc-number">4.1.</span> <span class="toc-text">用pandas读excel文档</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%A8pandas%E5%86%99excel%E6%96%87%E6%A1%A3"><span class="toc-number">4.2.</span> <span class="toc-text">用pandas写excel文档</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%A8pandas%E8%AF%BB%E5%86%99csv%E6%96%87%E4%BB%B6"><span class="toc-number">4.3.</span> <span class="toc-text">用pandas读写csv文件</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%94%A8matplotlib%E8%BF%9B%E8%A1%8C%E6%95%B0%E6%8D%AE%E5%B1%95%E7%A4%BA"><span class="toc-number">5.</span> <span class="toc-text">用matplotlib进行数据展示</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BB%98%E5%88%B6%E7%9B%B4%E6%96%B9%E5%9B%BE"><span class="toc-number">6.</span> <span class="toc-text">绘制直方图</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%98%E5%88%B6%E5%9F%BA%E6%9C%AC%E7%9B%B4%E6%96%B9%E5%9B%BE"><span class="toc-number">6.1.</span> <span class="toc-text">绘制基本直方图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%98%E5%88%B6%E6%A8%AA%E5%90%91%E7%9B%B4%E6%96%B9%E5%9B%BE"><span class="toc-number">6.2.</span> <span class="toc-text">绘制横向直方图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%98%E5%88%B6%E5%A0%86%E5%8F%A0%E7%9B%B4%E6%96%B9%E5%9B%BE"><span class="toc-number">6.3.</span> <span class="toc-text">绘制堆叠直方图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%98%E5%88%B6%E5%AF%B9%E6%AF%94%E7%9B%B4%E6%96%B9%E5%9B%BE-%E6%9C%89%E5%A4%9A%E7%BB%84%E6%95%B0%E6%8D%AE%EF%BC%89"><span class="toc-number">6.4.</span> <span class="toc-text">绘制对比直方图(有多组数据）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%98%E5%88%B6%E6%95%A3%E7%82%B9%E3%80%81%E6%8A%98%E7%BA%BF%E5%9B%BE"><span class="toc-number">6.5.</span> <span class="toc-text">绘制散点、折线图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%98%E5%88%B6%E9%A5%BC%E5%9B%BE"><span class="toc-number">6.6.</span> <span class="toc-text">绘制饼图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%98%E5%88%B6%E7%83%AD%E5%8A%9B%E5%9B%BE"><span class="toc-number">6.7.</span> <span class="toc-text">绘制热力图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%98%E5%88%B6%E9%9B%B7%E8%BE%BE%E5%9B%BE"><span class="toc-number">6.8.</span> <span class="toc-text">绘制雷达图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%98%E5%88%B6%E5%A4%9A%E5%B1%82%E9%9B%B7%E8%BE%BE%E5%9B%BE"><span class="toc-number">6.9.</span> <span class="toc-text">绘制多层雷达图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E5%AD%90%E5%9B%BE%E7%BB%98%E5%88%B6"><span class="toc-number">6.10.</span> <span class="toc-text">多子图绘制</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%AF%8D%E4%BA%91%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">7.</span> <span class="toc-text">词云的使用</span></a></li></ol></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="/img/Avatar.png"></div><div class="author-info__name text-center">HibisciDai</div><div class="author-info__description text-center">HibisciDai'Blog</div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">文章</span><span class="pull-right">224</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">标签</span><span class="pull-right">77</span></a><a class="author-info-articles__categories article-meta" href="/categories"><span class="pull-left">分类</span><span class="pull-right">30</span></a></div><hr><div class="author-info-links"><div class="author-info-links__title text-center">友情链接</div><a class="author-info-links__name text-center" target="_blank" rel="noopener" href="https://github.com/HibisciDai/hexo-theme-melody">HexoTheme-github</a><a class="author-info-links__name text-center" target="_blank" rel="noopener" href="https://molunerfinn.com/">molunerfinn</a></div></div></div><div id="content-outer"><div id="top-container" style="background-image: url(/img/banner2.jpg)"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">HibisciDai</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus">   <a class="site-page" href="/">主页</a><a class="site-page" href="/about">关于我</a><a class="site-page" href="/archives">归档</a><a class="site-page" href="/tags">标签</a><a class="site-page" href="/categories">分类</a><a class="site-page" href="/gallery">相册</a></span><span class="pull-right"><a class="site-page social-icon search"><i class="fa fa-search"></i><span> 搜索</span></a></span></div><div id="post-info"><div id="post-title">实用Python程序设计MOOC-第十一章数据分析和展示</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2023-02-01</time><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a><div class="post-meta-wordcount"><span>字数总计: </span><span class="word-count">6.2k</span><span class="post-meta__separator">|</span><span>阅读时长: 27 分钟</span></div></div></div></div><div class="layout" id="content-inner"><article id="post"><div class="article-container" id="post-content"><img src="/2023/02/01/%E5%AE%9E%E7%94%A8Python%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1MOOC-%E7%AC%AC%E5%8D%81%E4%B8%80%E7%AB%A0%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E5%92%8C%E5%B1%95%E7%A4%BA/%E5%AE%9E%E7%94%A8Python%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1MOOC-%E7%AC%AC%E5%8D%81%E4%B8%80%E7%AB%A0%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E5%92%8C%E5%B1%95%E7%A4%BA.png" class="" title="实用Python程序设计MOOC-第十一章数据分析和展示">
<p>实用Python程序设计MOOC-第十一章数据分析和展示</p>
<span id="more"></span>
<p>[TOC]</p>
<h1 id="实用Python程序设计MOOC-第十一章数据分析和展示"><a href="#实用Python程序设计MOOC-第十一章数据分析和展示" class="headerlink" title="实用Python程序设计MOOC-第十一章数据分析和展示"></a>实用Python程序设计MOOC-第十一章数据分析和展示</h1><h1 id="多维数组库numpy"><a href="#多维数组库numpy" class="headerlink" title="多维数组库numpy"></a>多维数组库numpy</h1><h2 id="numpy简介"><a href="#numpy简介" class="headerlink" title="numpy简介"></a>numpy简介</h2><ul>
<li>多维数组库，创建多维数组很方便，可以替代多维列表</li>
<li>速度比多维列表快</li>
<li>支持向量和矩阵的各种数学运算</li>
<li>所有元素类型必须相同</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install numpy 安装</span><br></pre></td></tr></table></figure>
<h2 id="numpy创建数组的函数"><a href="#numpy创建数组的函数" class="headerlink" title="numpy创建数组的函数"></a>numpy创建数组的函数</h2><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">函数</th>
<th style="text-align:center">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">array(x)</td>
<td style="text-align:center">根据列表或元组x创建数组</td>
</tr>
<tr>
<td style="text-align:center">arange(x,y,i)</td>
<td style="text-align:center">创建一维数组， 元素等价于range(x,y,i)</td>
</tr>
<tr>
<td style="text-align:center">linespace(x,y,n)</td>
<td style="text-align:center">创建一个由区间[x,y]的n-1等分点构成的一维数组,包含x和y</td>
</tr>
<tr>
<td style="text-align:center">random.randint(…)</td>
<td style="text-align:center">创建一个元素为随机整数的数组</td>
</tr>
<tr>
<td style="text-align:center">zeros(n)</td>
<td style="text-align:center">创建一个元素全为0.0的长度为n数组</td>
</tr>
<tr>
<td style="text-align:center">ones(n)</td>
<td style="text-align:center">创建一个元素全为1.0的长度为n数组</td>
</tr>
</tbody>
</table>
</div>
<h2 id="numpy创建数组示例"><a href="#numpy创建数组示例" class="headerlink" title="numpy创建数组示例"></a>numpy创建数组示例</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np <span class="comment">#以后numpy简写为np</span></span><br><span class="line"><span class="built_in">print</span>(np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])) <span class="comment">#&gt;&gt;[1 2 3]</span></span><br><span class="line"><span class="built_in">print</span>(np.arange(<span class="number">1</span>,<span class="number">9</span>,<span class="number">2</span>)) <span class="comment">#&gt;&gt;[1 3 5 7] 等差数列[1,9)</span></span><br><span class="line"><span class="built_in">print</span>(np.linspace(<span class="number">1</span>,<span class="number">10</span>,<span class="number">4</span>)) <span class="comment">#&gt;&gt;[ 1. 4. 7. 10.]	等分数列</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(np.random.randint(<span class="number">10</span>,<span class="number">20</span>,[<span class="number">2</span>,<span class="number">3</span>]))	<span class="comment">#[10,20) 2行3列的数组</span></span><br><span class="line"><span class="comment">#&gt;&gt;[[12 19 12]</span></span><br><span class="line"><span class="comment">#&gt;&gt; [19 13 10]]</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(np.random.randint(<span class="number">10</span>,<span class="number">20</span>,<span class="number">5</span>)) <span class="comment">#&gt;&gt;[12 19 19 10 13]</span></span><br><span class="line">a = np.zeros(<span class="number">3</span>)</span><br><span class="line"><span class="built_in">print</span>(a) <span class="comment">#&gt;&gt;[ 0. 0. 0.]</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">list</span>(a)) <span class="comment">#&gt;&gt;[0.0, 0.0, 0.0]</span></span><br><span class="line">a = np.zeros((<span class="number">2</span>,<span class="number">3</span>),dtype=<span class="built_in">int</span>) <span class="comment">#创建一个2行3列的元素都是整数0的数组</span></span><br></pre></td></tr></table></figure>
<h2 id="numpy数组常用属性和函数"><a href="#numpy数组常用属性和函数" class="headerlink" title="numpy数组常用属性和函数"></a>numpy数组常用属性和函数</h2><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">属性或函数</th>
<th style="text-align:center">含义或功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">dtype</td>
<td style="text-align:center">数组元素的类型</td>
</tr>
<tr>
<td style="text-align:center">ndim</td>
<td style="text-align:center">数组是几维的</td>
</tr>
<tr>
<td style="text-align:center">shape</td>
<td style="text-align:center">数组每一维的长度</td>
</tr>
<tr>
<td style="text-align:center">size</td>
<td style="text-align:center">数组元素个数</td>
</tr>
<tr>
<td style="text-align:center">argwhere(…)</td>
<td style="text-align:center">查找元素</td>
</tr>
<tr>
<td style="text-align:center">tolist()</td>
<td style="text-align:center">转换为list</td>
</tr>
<tr>
<td style="text-align:center">min()</td>
<td style="text-align:center">求最小元素</td>
</tr>
<tr>
<td style="text-align:center">max()</td>
<td style="text-align:center">求最大元素</td>
</tr>
<tr>
<td style="text-align:center">reshape(…)</td>
<td style="text-align:center">改变数组的形状</td>
</tr>
<tr>
<td style="text-align:center">flatten()</td>
<td style="text-align:center">转换成一维数组</td>
</tr>
</tbody>
</table>
</div>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">b = np.array([i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">12</span>)])</span><br><span class="line"><span class="comment">#b是[ 0 1 2 3 4 5 6 7 8 9 10 11]</span></span><br><span class="line">a = b.reshape((<span class="number">3</span>,<span class="number">4</span>)) <span class="comment">#转换成3行4列的数组， b不变</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">len</span>(a)) <span class="comment">#&gt;&gt;3 a有3行</span></span><br><span class="line"><span class="built_in">print</span>(a.size) <span class="comment">#&gt;&gt;12 a的元素个数是12</span></span><br><span class="line"><span class="built_in">print</span>(a.ndim) <span class="comment">#&gt;&gt;2 a是2维的</span></span><br><span class="line"><span class="built_in">print</span>(a.shape) <span class="comment">#&gt;&gt;(3, 4) a是3行4列</span></span><br><span class="line"><span class="built_in">print</span>(a.dtype) <span class="comment">#&gt;&gt;int32 a的元素类型是32位的整数</span></span><br><span class="line">L = a.tolist() <span class="comment">#转换成列表,a不变</span></span><br><span class="line"><span class="built_in">print</span>(L)</span><br><span class="line"><span class="comment">#&gt;&gt;[[0, 1, 2, 3], [4, 5, 6, 7], [8, 9, 10, 11]]</span></span><br><span class="line">b = a.flatten() <span class="comment">#转换成一维数组</span></span><br><span class="line"><span class="built_in">print</span>(b) <span class="comment">#&gt;&gt;[ 0 1 2 3 4 5 6 7 8 9 10 11]</span></span><br></pre></td></tr></table></figure>
<h2 id="numpy数组元素增删"><a href="#numpy数组元素增删" class="headerlink" title="numpy数组元素增删"></a>numpy数组元素增删</h2><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">函数</th>
<th style="text-align:center">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">append(x,y)</td>
<td style="text-align:center">若y是数组、列表或元组,就将y的元素添加进数组x得新数组。否则将y本身添加进数组x得新数组</td>
</tr>
<tr>
<td style="text-align:center">concatenate(…)</td>
<td style="text-align:center">拼接多个数组或列表,”axis=0”行增加,”axis=1”列增加</td>
</tr>
<tr>
<td style="text-align:center">delete(…)</td>
<td style="text-align:center">删除数组元素得新数组</td>
</tr>
</tbody>
</table>
</div>
<p>numpy数组一旦生成，元素就不能增删。 上面函数返回一个新的数组。</p>
<h2 id="numpy添加数组元素"><a href="#numpy添加数组元素" class="headerlink" title="numpy添加数组元素"></a>numpy添加数组元素</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a = np.array((<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)) <span class="comment">#a是[1 2 3]</span></span><br><span class="line">b = np.append(a, <span class="number">10</span>) <span class="comment">#a不会发生变化</span></span><br><span class="line"><span class="built_in">print</span>(b) <span class="comment">#&gt;&gt;[ 1 2 3 10]</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(np.append(a, [<span class="number">10</span>, <span class="number">20</span>])) <span class="comment">#&gt;&gt;[ 1 2 3 10 20]</span></span><br><span class="line"></span><br><span class="line">c = np.zeros((<span class="number">2</span>, <span class="number">3</span>),dtype=<span class="built_in">int</span>) <span class="comment">#c是2行3列的全0数组</span></span><br><span class="line"><span class="built_in">print</span>(np.append(a, c)) <span class="comment">#&gt;&gt;[1 2 3 0 0 0 0 0 0]</span></span><br><span class="line"><span class="built_in">print</span>(np.concatenate((a, [<span class="number">10</span>, <span class="number">20</span>], a)))</span><br><span class="line"><span class="comment">#&gt;&gt;[ 1 2 3 10 20 1 2 3]</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(np.concatenate((c, np.array([[<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>]]))))</span><br><span class="line"><span class="comment">#c拼接一行[10,20,30]得新数组</span></span><br><span class="line"><span class="comment">#&gt;&gt;[[ 0  0  0]</span></span><br><span class="line"><span class="comment">#&gt;&gt; [ 0  0  0]</span></span><br><span class="line"><span class="comment">#&gt;&gt; [10 20 30]]</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(np.concatenate((c,np.array([[<span class="number">1</span>, <span class="number">2</span>], [<span class="number">10</span>, <span class="number">20</span>]])), axis=<span class="number">1</span>))</span><br><span class="line"><span class="comment">#c的第0行拼接了1,2两个元素、第1行拼接了10,20两个新元素后得到新数组</span></span><br><span class="line"><span class="comment">#&gt;&gt;[[ 0  0  0  1  2]</span></span><br><span class="line"><span class="comment">#&gt;&gt; [ 0  0  0 10 20]]</span></span><br></pre></td></tr></table></figure>
<h2 id="numpy删除数组元素"><a href="#numpy删除数组元素" class="headerlink" title="numpy删除数组元素"></a>numpy删除数组元素</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a = np.array((<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>))</span><br><span class="line">b = np.delete(a,<span class="number">1</span>) <span class="comment">#删除a中下标为1的元素,a不会改变</span></span><br><span class="line"><span class="built_in">print</span>(b) <span class="comment">#&gt;&gt;[1 3 4]</span></span><br><span class="line">b = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>],[<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>],[<span class="number">9</span>,<span class="number">10</span>,<span class="number">11</span>,<span class="number">12</span>]])</span><br><span class="line"><span class="built_in">print</span>(np.delete(b,<span class="number">1</span>,axis=<span class="number">0</span>)) <span class="comment">#删除b的第1行得新数组</span></span><br><span class="line"><span class="comment">#&gt;&gt;[[ 1 2 3 4]</span></span><br><span class="line"><span class="comment">#&gt;&gt; [ 9 10 11 12]]</span></span><br><span class="line"><span class="built_in">print</span>(np.delete(b,<span class="number">1</span>,axis=<span class="number">1</span>)) <span class="comment">#删除b的第1列得新数组</span></span><br><span class="line"><span class="comment">#&gt;&gt;[[ 1  3  4]</span></span><br><span class="line"><span class="comment">#&gt;&gt; [ 5  7  8]</span></span><br><span class="line"><span class="comment">#&gt;&gt; [ 9 11 12]]</span></span><br><span class="line"><span class="built_in">print</span>(np.delete(b,[<span class="number">1</span>,<span class="number">2</span>],axis=<span class="number">0</span>)) <span class="comment">#删除b的第1行和第2行得新数组</span></span><br><span class="line"><span class="comment">#&gt;&gt;[[1 2 3 4]]</span></span><br><span class="line"><span class="built_in">print</span>(np.delete(b,[<span class="number">1</span>,<span class="number">3</span>],axis=<span class="number">1</span>)) <span class="comment">#删除b的第1列和第3列得新数组</span></span><br><span class="line"><span class="comment">#&gt;&gt;[[ 1  3]</span></span><br><span class="line"><span class="comment">#&gt;&gt; [ 5  7]</span></span><br><span class="line"><span class="comment">#&gt;&gt; [ 9 11]]</span></span><br></pre></td></tr></table></figure>
<h2 id="在numpy数组中查找元素"><a href="#在numpy数组中查找元素" class="headerlink" title="在numpy数组中查找元素"></a>在numpy数组中查找元素</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a = np.array((<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">3</span>,<span class="number">4</span>))</span><br><span class="line">pos = np.argwhere(a==<span class="number">3</span>) <span class="comment">#pos是[[2] [4]]</span></span><br><span class="line"></span><br><span class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">2</span>]])</span><br><span class="line"><span class="built_in">print</span>(<span class="number">2</span> <span class="keyword">in</span> a) <span class="comment">#&gt;&gt;True</span></span><br><span class="line"></span><br><span class="line">pos = np.argwhere(a==<span class="number">2</span>) <span class="comment">#pos是[[0 1] [1 2]]</span></span><br><span class="line">b = a[a&gt;<span class="number">2</span>] <span class="comment">#抽取a中大于2的元素形成一个一维数组</span></span><br><span class="line"><span class="built_in">print</span>(b) <span class="comment">#&gt;&gt;[3 4 5]</span></span><br><span class="line">a[a &gt; <span class="number">2</span>] = -<span class="number">1</span> <span class="comment">#a变成[[ 1 2 -1] [-1 -1 2]]</span></span><br></pre></td></tr></table></figure>
<h2 id="numpy数组的数学运算"><a href="#numpy数组的数学运算" class="headerlink" title="numpy数组的数学运算"></a>numpy数组的数学运算</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a = np.array((<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>))</span><br><span class="line">b = a + <span class="number">1</span></span><br><span class="line"><span class="built_in">print</span>(b) <span class="comment">#&gt;&gt;[2 3 4 5]</span></span><br><span class="line"><span class="built_in">print</span>(a*b) <span class="comment">#&gt;&gt;[ 2 6 12 20] a,b对应元素相乘</span></span><br><span class="line"><span class="built_in">print</span>(a+b) <span class="comment">#&gt;&gt;[3 5 7 9] a,b对应元素相加</span></span><br><span class="line">c = np.sqrt(a*<span class="number">10</span>) <span class="comment">#a*10是[10 20 30 40]</span></span><br><span class="line"><span class="built_in">print</span>(c) <span class="comment">#&gt;&gt;[ 3.16227766 4.47213595 5.47722558 6.32455532]</span></span><br></pre></td></tr></table></figure>
<h2 id="numpy数组的切片"><a href="#numpy数组的切片" class="headerlink" title="numpy数组的切片"></a>numpy数组的切片</h2><p>numpy数组的切片是“视图”，<br>是原数组的一部分，而非一部分的拷贝<br>对视图的修改会影响原数组</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a = np.arange(<span class="number">8</span>) <span class="comment">#a是[0 1 2 3 4 5 6 7]</span></span><br><span class="line">b = a[<span class="number">3</span>:<span class="number">6</span>] <span class="comment">#注意,b是a的一部分</span></span><br><span class="line"><span class="built_in">print</span>(b) <span class="comment">#&gt;&gt;[3 4 5]</span></span><br><span class="line">c = np.copy(a[<span class="number">3</span>:<span class="number">6</span>]) <span class="comment">#c是a的一部分的拷贝</span></span><br><span class="line">b[<span class="number">0</span>] = <span class="number">100</span> <span class="comment">#会修改a</span></span><br><span class="line"><span class="built_in">print</span>(a) <span class="comment">#&gt;&gt;[ 0 1 2 100 4 5 6 7]</span></span><br><span class="line"><span class="built_in">print</span>(c) <span class="comment">#&gt;&gt;[3 4 5] c不受b影响</span></span><br><span class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>],[<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>],[<span class="number">9</span>,<span class="number">10</span>,<span class="number">11</span>,<span class="number">12</span>],[<span class="number">13</span>,<span class="number">14</span>,<span class="number">15</span>,<span class="number">16</span>]])</span><br><span class="line">b = a[<span class="number">1</span>:<span class="number">3</span>,<span class="number">1</span>:<span class="number">4</span>] <span class="comment">#b是&gt;&gt;[[ 6 7 8] [10 11 12]]</span></span><br></pre></td></tr></table></figure>
<h1 id="数据分析库pandas"><a href="#数据分析库pandas" class="headerlink" title="数据分析库pandas"></a>数据分析库pandas</h1><h2 id="pandas-简介"><a href="#pandas-简介" class="headerlink" title="pandas 简介"></a>pandas 简介</h2><ul>
<li>核心功能是在二维表格上做各种操作，如增删、修改、 求一列数据的和、方差、中<br>位数、平均数等</li>
<li>需要numpy支持</li>
<li>如果有openpyxl或xlrd或xlwt支持，还可以读写excel文档。</li>
<li>最关键的类： DataFrame，表示二维表格</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install pandas</span><br></pre></td></tr></table></figure>
<h2 id="pandas的重要类：-Series"><a href="#pandas的重要类：-Series" class="headerlink" title="pandas的重要类： Series"></a>pandas的重要类： Series</h2><p>Series是一维表格，每个元素带标签且有下标，兼具列表和字典的访问形式</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">s = pd.Series(data=[<span class="number">80</span>,<span class="number">90</span>,<span class="number">100</span>],index=[<span class="string">&#x27;语文&#x27;</span>,<span class="string">&#x27;数学&#x27;</span>,<span class="string">&#x27;英语&#x27;</span>])</span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> s: <span class="comment">#&gt;&gt;80 90 100</span></span><br><span class="line">	<span class="built_in">print</span>(x,end=<span class="string">&quot; &quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(s[<span class="string">&#x27;语文&#x27;</span>],s[<span class="number">1</span>]) <span class="comment">#&gt;&gt;80 90 标签和序号都可以作为下标来访问元素</span></span><br><span class="line"><span class="built_in">print</span>(s[<span class="number">0</span>:<span class="number">2</span>][<span class="string">&#x27;数学&#x27;</span>]) <span class="comment">#&gt;&gt;90 s[0:2]是切片</span></span><br><span class="line"><span class="built_in">print</span>(s[<span class="string">&#x27;数学&#x27;</span>:<span class="string">&#x27;英语&#x27;</span>][<span class="number">1</span>]) <span class="comment">#&gt;&gt;100</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(s.index)): <span class="comment">#&gt;&gt;语文 数学 英语</span></span><br><span class="line">	<span class="built_in">print</span>(s.index[i],end = <span class="string">&quot; &quot;</span>)</span><br><span class="line"></span><br><span class="line">s[<span class="string">&#x27;体育&#x27;</span>] = <span class="number">110</span> <span class="comment">#在尾部添加元素，标签为&#x27;体育&#x27;，值为110</span></span><br><span class="line">s.pop(<span class="string">&#x27;数学&#x27;</span>) <span class="comment">#删除标签为&#x27;数学’的元素</span></span><br><span class="line">s2 = s.append(pd.Series(<span class="number">120</span>,index = [<span class="string">&#x27;政治&#x27;</span>])) <span class="comment">#不改变s</span></span><br><span class="line"><span class="built_in">print</span>(s2[<span class="string">&#x27;语文&#x27;</span>],s2[<span class="string">&#x27;政治&#x27;</span>]) <span class="comment">#&gt;&gt;80 120</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">list</span>(s2)) <span class="comment">#&gt;&gt;[80, 100, 110, 120]</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(s.<span class="built_in">sum</span>(),s.<span class="built_in">min</span>(),s.mean(),s.median())</span><br><span class="line"><span class="comment">#&gt;&gt;290 80 96.66666666666667 100.0 输出和、最小值、平均值、中位数</span></span><br><span class="line"><span class="built_in">print</span>(s.idxmax(),s.argmax()) <span class="comment">#&gt;&gt;体育 2 输出最大元素的标签和下标</span></span><br></pre></td></tr></table></figure>
<p>切片是视图，是原来数据的一部分，修改了视图也会影响原来数据的变化。</p>
<h2 id="DataFrame的构造和访问"><a href="#DataFrame的构造和访问" class="headerlink" title="DataFrame的构造和访问"></a>DataFrame的构造和访问</h2><p>DataFrame是带行列标签的二维表格，的每一列都是一个Series</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">pd.set_option(<span class="string">&#x27;display.unicode.east_asian_width&#x27;</span>,<span class="literal">True</span>)</span><br><span class="line"><span class="comment">#输出对齐方面的设置</span></span><br><span class="line">scores = [[<span class="string">&#x27;男&#x27;</span>,<span class="number">108</span>,<span class="number">115</span>,<span class="number">97</span>],[<span class="string">&#x27;女&#x27;</span>,<span class="number">115</span>,<span class="number">87</span>,<span class="number">105</span>],[<span class="string">&#x27;女&#x27;</span>,<span class="number">100</span>,<span class="number">60</span>,<span class="number">130</span>],</span><br><span class="line">[<span class="string">&#x27;男&#x27;</span>,<span class="number">112</span>,<span class="number">80</span>,<span class="number">50</span>]]</span><br><span class="line">names = [<span class="string">&#x27;刘一哥&#x27;</span>,<span class="string">&#x27;王二姐&#x27;</span>,<span class="string">&#x27;张三妹&#x27;</span>,<span class="string">&#x27;李四弟&#x27;</span>]</span><br><span class="line">courses = [<span class="string">&#x27;性别&#x27;</span>,<span class="string">&#x27;语文&#x27;</span>,<span class="string">&#x27;数学&#x27;</span>,<span class="string">&#x27;英语&#x27;</span>]</span><br><span class="line">df = pd.DataFrame(data = scores, index = names, columns = courses)</span><br><span class="line"><span class="built_in">print</span>(df)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(df.values[<span class="number">0</span>][<span class="number">1</span>],<span class="built_in">type</span>(df.values))<span class="comment">#&gt;&gt;108 &lt;class &#x27;numpy.ndarray&#x27;&gt;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">list</span>(df.index)) <span class="comment">#&gt;&gt;[&#x27;刘一哥&#x27;, &#x27;王二姐&#x27;, &#x27;张三妹&#x27;, &#x27;李四弟&#x27;]</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">list</span>(df.columns)) <span class="comment">#&gt;&gt;[&#x27;性别&#x27;, &#x27;语文&#x27;, &#x27;数学&#x27;, &#x27;英语&#x27;]</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(df.index[<span class="number">2</span>],df.columns[<span class="number">2</span>]) <span class="comment">#&gt;&gt;张三妹 数学</span></span><br><span class="line">s1 = df[<span class="string">&#x27;语文&#x27;</span>] <span class="comment">#s1是个Series,代表&#x27;语文&#x27;那一列</span></span><br><span class="line"><span class="built_in">print</span>(s1[<span class="string">&#x27;刘一哥&#x27;</span>],s1[<span class="number">0</span>]) <span class="comment">#&gt;&gt;108 108 刘一哥语文成绩</span></span><br><span class="line"><span class="built_in">print</span>(df[<span class="string">&#x27;语文&#x27;</span>][<span class="string">&#x27;刘一哥&#x27;</span>]) <span class="comment">#&gt;&gt;108 列索引先写</span></span><br><span class="line">s2 = df.loc[<span class="string">&#x27;王二姐&#x27;</span>] <span class="comment">#s2也是个Series，代表“王二姐”那一行</span></span><br><span class="line"><span class="built_in">print</span>(s2[<span class="string">&#x27;性别&#x27;</span>],s2[<span class="string">&#x27;语文&#x27;</span>],s2[<span class="number">2</span>])</span><br><span class="line"><span class="comment">#&gt;&gt;女 115 87 王二姐的性别、语文和数学分数</span></span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">       性别  语文  数学  英语</span><br><span class="line">刘一哥   男   108   115    97</span><br><span class="line">王二姐   女   115    87   105</span><br><span class="line">张三妹   女   100    60   130</span><br><span class="line">李四弟   男   112    80    50</span><br><span class="line">108 &lt;class &#x27;numpy.ndarray&#x27;&gt;</span><br><span class="line">[&#x27;刘一哥&#x27;, &#x27;王二姐&#x27;, &#x27;张三妹&#x27;, &#x27;李四弟&#x27;]</span><br><span class="line">[&#x27;性别&#x27;, &#x27;语文&#x27;, &#x27;数学&#x27;, &#x27;英语&#x27;]</span><br><span class="line">张三妹 数学</span><br><span class="line">108 108</span><br><span class="line">108</span><br><span class="line">女 115 87</span><br></pre></td></tr></table></figure>
<h2 id="DataFrame的切片和统计"><a href="#DataFrame的切片和统计" class="headerlink" title="DataFrame的切片和统计"></a>DataFrame的切片和统计</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#DataFrame的切片：</span></span><br><span class="line"><span class="comment">#iloc[行选择器, 列选择器] 用下标做切片</span></span><br><span class="line"><span class="comment">#loc[行选择器, 列选择器] 用标签做切片</span></span><br><span class="line"><span class="comment">#DataFrame的切片是视图</span></span><br><span class="line"></span><br><span class="line">df2 = df.iloc[<span class="number">1</span>:<span class="number">3</span>] <span class="comment">#行切片，是视图，选1,2两行</span></span><br><span class="line">df2 = df.loc[<span class="string">&#x27;王二姐&#x27;</span>:<span class="string">&#x27;张三妹&#x27;</span>] <span class="comment">#和上一行等价</span></span><br><span class="line"><span class="built_in">print</span>(df2)</span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">       性别  语文  数学  英语</span><br><span class="line">王二姐   女   115    87   105</span><br><span class="line">张三妹   女   100    60   130</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">df2 = df.iloc[:,<span class="number">0</span>:<span class="number">3</span>] <span class="comment">#列切片(是视图)，选0、 1、 2三列</span></span><br><span class="line">df2 = df.loc[:,<span class="string">&#x27;性别&#x27;</span>:<span class="string">&#x27;数学&#x27;</span>] <span class="comment">#和上一行等价</span></span><br><span class="line"><span class="built_in">print</span>(df2)</span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">       性别  语文  数学</span><br><span class="line">刘一哥   男   108   115</span><br><span class="line">王二姐   女   115    87</span><br><span class="line">张三妹   女   100    60</span><br><span class="line">李四弟   男   112    80</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">df2 = df.iloc[:<span class="number">2</span>,[<span class="number">1</span>,<span class="number">3</span>]] <span class="comment">#行列切片,只取第一列和第三列</span></span><br><span class="line">df2 = df.loc[:<span class="string">&#x27;王二姐&#x27;</span>,[<span class="string">&#x27;语文&#x27;</span>,<span class="string">&#x27;英语&#x27;</span>]] <span class="comment">#和上一行等价</span></span><br><span class="line"><span class="built_in">print</span>(df2)</span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">        语文  英语</span><br><span class="line">刘一哥   108    97</span><br><span class="line">王二姐   115   105</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">df2 = df.iloc[[<span class="number">1</span>,<span class="number">3</span>],<span class="number">2</span>:<span class="number">4</span>] <span class="comment">#取第1、 3行，第2、 3列</span></span><br><span class="line">df2 = df.loc[[<span class="string">&#x27;王二姐&#x27;</span>,<span class="string">&#x27;李四弟&#x27;</span>],<span class="string">&#x27;数学&#x27;</span>:<span class="string">&#x27;英语&#x27;</span>] <span class="comment">#和上一行等价</span></span><br><span class="line"><span class="built_in">print</span>(df2)</span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">        数学  英语</span><br><span class="line">王二姐    87   105</span><br><span class="line">李四弟    80    50</span><br></pre></td></tr></table></figure>
<h2 id="DataFrame的分析统计"><a href="#DataFrame的分析统计" class="headerlink" title="DataFrame的分析统计"></a>DataFrame的分析统计</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;---下面是DataFrame的分析和统计---&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(df.T) <span class="comment">#df.T是df的转置矩阵,即行列互换的矩阵</span></span><br><span class="line"><span class="built_in">print</span>(df.sort_values(<span class="string">&#x27;语文&#x27;</span>,ascending=<span class="literal">False</span>)) <span class="comment">#按语文成绩降序排列,不会改变原来的表格，会返回一个新的表格</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#print(df.sum()[&#x27;语文&#x27;],df.mean()[&#x27;数学&#x27;],df.median()[&#x27;英语&#x27;])</span></span><br><span class="line"><span class="built_in">print</span>(df[<span class="string">&#x27;语文&#x27;</span>].<span class="built_in">sum</span>(),df[<span class="string">&#x27;数学&#x27;</span>].mean(),df[<span class="string">&#x27;英语&#x27;</span>].median())</span><br><span class="line"><span class="comment">#&gt;&gt;435 85.5 101.0 语文分数之和、数学平均分、英语中位数</span></span><br><span class="line"><span class="comment">#df.sum()返回一个Series，每一列的和</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(df.<span class="built_in">min</span>()[<span class="string">&#x27;语文&#x27;</span>],df.<span class="built_in">max</span>()[<span class="string">&#x27;数学&#x27;</span>])</span><br><span class="line"><span class="comment">#&gt;&gt;100 115 语文最低分，数学最高分</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#print(df.max(axis = 1)[&#x27;王二姐&#x27;]) #&gt;&gt;115 王二姐的最高分科目的分数</span></span><br><span class="line"><span class="built_in">print</span>(df.<span class="built_in">max</span>(axis = <span class="number">1</span>, numeric_only=<span class="literal">True</span>)[<span class="string">&#x27;王二姐&#x27;</span>]) <span class="comment">#&gt;&gt;115 王二姐的最高分科目的分数</span></span><br><span class="line"><span class="built_in">print</span>(df[<span class="string">&#x27;语文&#x27;</span>].idxmax()) <span class="comment">#&gt;&gt;王二姐 语文最高分所在行的标签</span></span><br><span class="line"><span class="built_in">print</span>(df[<span class="string">&#x27;数学&#x27;</span>].argmin()) <span class="comment">#&gt;&gt;2 数学最低分所在行的行号</span></span><br><span class="line"><span class="built_in">print</span>(df.loc[(df[<span class="string">&#x27;语文&#x27;</span>] &gt; <span class="number">100</span>) &amp; (df[<span class="string">&#x27;数学&#x27;</span>] &gt;= <span class="number">85</span>)])</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sort_values(....inplace=<span class="literal">True</span>,axis=<span class="number">1.</span>...)</span><br><span class="line"><span class="comment">#inplace=True,原地排序，将各列排序,即改变原来的表格</span></span><br><span class="line"><span class="comment">#axis=1,列重新排序</span></span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">       性别  语文  数学  英语</span><br><span class="line">刘一哥   男   108   115    97</span><br><span class="line">王二姐   女   115    87   105</span><br><span class="line">张三妹   女   100    60   130</span><br><span class="line">李四弟   男   112    80    50</span><br><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;上方为原始<span class="built_in">df</span></span></span><br><span class="line">     刘一哥 王二姐 张三妹 李四弟</span><br><span class="line">性别     男     女     女     男</span><br><span class="line">语文    108    115    100    112</span><br><span class="line">数学    115     87     60     80</span><br><span class="line">英语     97    105    130     50</span><br><span class="line">       性别  语文  数学  英语</span><br><span class="line">王二姐   女   115    87   105</span><br><span class="line">李四弟   男   112    80    50</span><br><span class="line">刘一哥   男   108   115    97</span><br><span class="line">张三妹   女   100    60   130</span><br><span class="line">435 85.5 101.0</span><br><span class="line">100 115</span><br><span class="line">115</span><br><span class="line">王二姐</span><br><span class="line">2</span><br><span class="line">       性别  语文  数学  英语</span><br><span class="line">刘一哥   男   108   115    97</span><br><span class="line">王二姐   女   115    87   105</span><br></pre></td></tr></table></figure>
<h2 id="DataFrame的修改和增删"><a href="#DataFrame的修改和增删" class="headerlink" title="DataFrame的修改和增删"></a>DataFrame的修改和增删</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;---下面是DataFrame的增删和修改---&quot;</span>)</span><br><span class="line">df.loc[<span class="string">&#x27;王二姐&#x27;</span>,<span class="string">&#x27;英语&#x27;</span>] = df.iloc[<span class="number">0</span>,<span class="number">1</span>] = <span class="number">150</span> <span class="comment">#修改王二姐英语和刘一哥语文成绩</span></span><br><span class="line">df[<span class="string">&#x27;物理&#x27;</span>] = [<span class="number">80</span>,<span class="number">70</span>,<span class="number">90</span>,<span class="number">100</span>] <span class="comment">#为所有人添加物理成绩这一列</span></span><br><span class="line">df.insert(<span class="number">1</span>,<span class="string">&quot;体育&quot;</span>,[<span class="number">89</span>,<span class="number">77</span>,<span class="number">76</span>,<span class="number">45</span>]) <span class="comment">#为所有人插入体育成绩到第1列</span></span><br><span class="line">df.loc[<span class="string">&#x27;李四弟&#x27;</span>] = [<span class="string">&#x27;男&#x27;</span>,<span class="number">100</span>,<span class="number">100</span>,<span class="number">100</span>,<span class="number">100</span>,<span class="number">100</span>] <span class="comment">#修改李四弟全部信息</span></span><br><span class="line">df.loc[:,<span class="string">&#x27;语文&#x27;</span>] = [<span class="number">20</span>,<span class="number">20</span>,<span class="number">20</span>,<span class="number">20</span>] <span class="comment">#修改所有人语文成绩</span></span><br><span class="line">df.loc[<span class="string">&#x27;钱五叔&#x27;</span>] = [<span class="string">&#x27;男&#x27;</span>,<span class="number">100</span>,<span class="number">100</span>,<span class="number">100</span>,<span class="number">100</span>,<span class="number">100</span>] <span class="comment">#加一行</span></span><br><span class="line">df.loc[:,<span class="string">&#x27;英语&#x27;</span>] += <span class="number">10</span> <span class="comment">#&gt;&gt;所有人英语加10分</span></span><br><span class="line">df.columns = [<span class="string">&#x27;性别&#x27;</span>,<span class="string">&#x27;体育&#x27;</span>,<span class="string">&#x27;语文&#x27;</span>,<span class="string">&#x27;数学&#x27;</span>,<span class="string">&#x27;English&#x27;</span>,<span class="string">&#x27;物理&#x27;</span>] <span class="comment">#改列标签</span></span><br><span class="line"><span class="built_in">print</span>(df)</span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;<span class="built_in">df</span>初始</span></span><br><span class="line">       性别  语文  数学  英语</span><br><span class="line">刘一哥   男   108   115    97</span><br><span class="line">王二姐   女   115    87   105</span><br><span class="line">张三妹   女   100    60   130</span><br><span class="line">李四弟   男   112    80    50</span><br><span class="line"></span><br><span class="line">       性别  体育  语文  数学  English  物理</span><br><span class="line">刘一哥   男    89    20   115      107    80</span><br><span class="line">王二姐   女    77    20    87      160    70</span><br><span class="line">张三妹   女    76    20    60      140    90</span><br><span class="line">李四弟   男   100    20   100      110   100</span><br><span class="line">钱五叔   男   100   100   100      110   100</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">df.drop([<span class="string">&#x27;体育&#x27;</span>,<span class="string">&#x27;物理&#x27;</span>], axis=<span class="number">1</span>, inplace=<span class="literal">True</span>) <span class="comment">#删除体育和物理成绩</span></span><br><span class="line"><span class="comment">#inplace=True,代表原数据中删除</span></span><br><span class="line">df.drop(<span class="string">&#x27;王二姐&#x27;</span>, axis = <span class="number">0</span>, inplace=<span class="literal">True</span>) <span class="comment">#删除 王二姐那一行</span></span><br><span class="line"><span class="comment">#axis = 0,代表作为行标签删除</span></span><br><span class="line"><span class="built_in">print</span>(df)</span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">       性别  语文  数学  English</span><br><span class="line">刘一哥   男    20   115      107</span><br><span class="line">张三妹   女    20    60      140</span><br><span class="line">李四弟   男    20   100      110</span><br><span class="line">钱五叔   男   100   100      110</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">df.drop([df.index[i] <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">3</span>)], axis = <span class="number">0</span>, inplace = <span class="literal">True</span>)</span><br><span class="line"><span class="comment">#删除第1,2行</span></span><br><span class="line">df.drop([df.columns[i] <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>)], axis = <span class="number">1</span>, inplace = <span class="literal">True</span>) <span class="comment">#删除第0到2列</span></span><br></pre></td></tr></table></figure>
<h1 id="数据分析库pandas读写excel和csv文档"><a href="#数据分析库pandas读写excel和csv文档" class="headerlink" title="数据分析库pandas读写excel和csv文档"></a>数据分析库pandas读写excel和csv文档</h1><h2 id="用pandas读excel文档"><a href="#用pandas读excel文档" class="headerlink" title="用pandas读excel文档"></a>用pandas读excel文档</h2><ul>
<li>需要openpyxl(对.xlsx文件)或xlrd或xlwt支持(老的.xls文件)</li>
<li>读取的每张工作表都是一个DataFrame</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">pd.set_option(<span class="string">&#x27;display.unicode.east_asian_width&#x27;</span>,<span class="literal">True</span>)</span><br><span class="line">dt = pd.read_excel(<span class="string">&quot;excel_sample.xlsx&quot;</span>, sheet_name=[<span class="string">&#x27;销售情况&#x27;</span>,<span class="number">1</span>], index_col=<span class="number">0</span>)<span class="comment">#读取第0和第1张工作表</span></span><br><span class="line">df = dt[<span class="string">&#x27;销售情况&#x27;</span>] <span class="comment">#dt是字典,df是DataFrame</span></span><br><span class="line"><span class="built_in">print</span>(df.iloc[<span class="number">0</span>,<span class="number">0</span>], df.loc[<span class="string">&#x27;睡袋&#x27;</span>,<span class="string">&#x27;数量&#x27;</span>]) <span class="comment">#&gt;&gt;4080 4080</span></span><br><span class="line"><span class="built_in">print</span>(df)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(pd.isnull(df.loc[<span class="string">&#x27;彩盒&#x27;</span>,<span class="string">&#x27;销售额&#x27;</span>])) <span class="comment">#&gt;&gt;True</span></span><br><span class="line">df.fillna(<span class="number">0</span>,inplace=<span class="literal">True</span>) <span class="comment">#空的数据值是NaN,将所有NaNa用0替换</span></span><br><span class="line"><span class="built_in">print</span>(df.loc[<span class="string">&#x27;彩盒&#x27;</span>,<span class="string">&#x27;销售额&#x27;</span>],df.iloc[<span class="number">2</span>,<span class="number">2</span>]) <span class="comment">#&gt;&gt;0.0 0.0</span></span><br></pre></td></tr></table></figure>
<h2 id="用pandas写excel文档"><a href="#用pandas写excel文档" class="headerlink" title="用pandas写excel文档"></a>用pandas写excel文档</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.to_excel(filename,sheet_name=<span class="string">&quot;Sheet1&quot;</span>,na_rep=<span class="string">&#x27;&#x27;</span>,........)</span><br></pre></td></tr></table></figure>
<ul>
<li>将DataFrame对象df中的数据写入excel文档filename中的”Sheet1”工作表,NaN用’’代替。</li>
<li>会覆盖原有的filename文件</li>
<li>如果要在一个excel文档中写入多个工作表， 需要用<code>ExcelWrite</code></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#(接上面程序）</span></span><br><span class="line">writer = pd.ExcelWriter(<span class="string">&quot;new.xlsx&quot;</span>) <span class="comment">#创建ExcelWriter对象</span></span><br><span class="line">df.to_excel(writer,sheet_name=<span class="string">&quot;S1&quot;</span>)</span><br><span class="line">df.T.to_excel(writer,sheet_name=<span class="string">&quot;S2&quot;</span>) <span class="comment">#转置矩阵写入</span></span><br><span class="line">df.sort_values(<span class="string">&#x27;销售额&#x27;</span>,ascending= <span class="literal">False</span>).to_excel(writer, sheet_name=<span class="string">&quot;S3&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#按销售额排序的新DataFrame写入工作表S3</span></span><br><span class="line">df[<span class="string">&#x27;销售额&#x27;</span>].to_excel(writer,sheet_name=<span class="string">&quot;S4&quot;</span>) <span class="comment">#只写入一列</span></span><br><span class="line">writer.save()</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Pandas不可以指定单元格的样式openxl可以</p>
</blockquote>
<h2 id="用pandas读写csv文件"><a href="#用pandas读写csv文件" class="headerlink" title="用pandas读写csv文件"></a>用pandas读写csv文件</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">df.to_csv(<span class="string">&quot;result.csv&quot;</span>,sep=<span class="string">&quot;,&quot;</span>,na_rep=<span class="string">&#x27;NA&#x27;</span>,</span><br><span class="line">float_format=<span class="string">&quot;%.2f&quot;</span>,encoding=<span class="string">&quot;gbk&quot;</span>)</span><br><span class="line">df = pd.read_csv(<span class="string">&quot;result.csv&quot;</span>)</span><br></pre></td></tr></table></figure>
<h1 id="用matplotlib进行数据展示"><a href="#用matplotlib进行数据展示" class="headerlink" title="用matplotlib进行数据展示"></a>用matplotlib进行数据展示</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install matplotlib</span><br></pre></td></tr></table></figure>
<h1 id="绘制直方图"><a href="#绘制直方图" class="headerlink" title="绘制直方图"></a>绘制直方图</h1><h2 id="绘制基本直方图"><a href="#绘制基本直方图" class="headerlink" title="绘制基本直方图"></a>绘制基本直方图</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt <span class="comment">#以后 plt 等价于 matplotlib.pyplot</span></span><br><span class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> rcParams</span><br><span class="line">rcParams[<span class="string">&#x27;font.family&#x27;</span>] = rcParams[<span class="string">&#x27;font.sans-serif&#x27;</span>] = <span class="string">&#x27;SimHei&#x27;</span></span><br><span class="line"><span class="comment">#设置中文支持,中文字体为简体黑体</span></span><br><span class="line">ax = plt.figure().add_subplot() <span class="comment">#建图，获取子图对象ax</span></span><br><span class="line">ax.bar(x = (<span class="number">0.2</span>,<span class="number">0.6</span>,<span class="number">0.8</span>,<span class="number">1.2</span>), height = (<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">0.5</span>), width = <span class="number">0.1</span>)</span><br><span class="line"><span class="comment">#x表示4个柱子中心横坐标分别是0.2,0.6,0.8,1</span></span><br><span class="line"><span class="comment">#height表示4个柱子高度分别是1,2,3,0.5</span></span><br><span class="line"><span class="comment">#width表示柱子宽度0.1</span></span><br><span class="line">ax.set_title(<span class="string">&#x27;我的直方图&#x27;</span>) <span class="comment">#设置标题</span></span><br><span class="line">plt.show() <span class="comment">#显示绘图结果</span></span><br></pre></td></tr></table></figure>
<img src="/2023/02/01/%E5%AE%9E%E7%94%A8Python%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1MOOC-%E7%AC%AC%E5%8D%81%E4%B8%80%E7%AB%A0%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E5%92%8C%E5%B1%95%E7%A4%BA/%E7%BB%98%E5%88%B6%E5%9F%BA%E6%9C%AC%E7%9B%B4%E6%96%B9%E5%9B%BE.png" class="" title="绘制基本直方图">
<h2 id="绘制横向直方图"><a href="#绘制横向直方图" class="headerlink" title="绘制横向直方图"></a>绘制横向直方图</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#纵向</span></span><br><span class="line">ax.bar(x = (<span class="number">0.2</span>,<span class="number">0.6</span>,<span class="number">0.8</span>,<span class="number">1.2</span>), height = (<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">0.5</span>), width = <span class="number">0.1</span>)</span><br><span class="line"><span class="comment">#横向</span></span><br><span class="line">ax.barh(y = (<span class="number">0.2</span>,<span class="number">0.6</span>,<span class="number">0.8</span>,<span class="number">1.2</span>), width = (<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">0.5</span>), height = <span class="number">0.1</span>)</span><br></pre></td></tr></table></figure>
<img src="/2023/02/01/%E5%AE%9E%E7%94%A8Python%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1MOOC-%E7%AC%AC%E5%8D%81%E4%B8%80%E7%AB%A0%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E5%92%8C%E5%B1%95%E7%A4%BA/%E7%BB%98%E5%88%B6%E6%A8%AA%E5%90%91%E7%9B%B4%E6%96%B9%E5%9B%BE.png" class="" title="绘制横向直方图">
<h2 id="绘制堆叠直方图"><a href="#绘制堆叠直方图" class="headerlink" title="绘制堆叠直方图"></a>绘制堆叠直方图</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">ax = plt.figure().add_subplot()</span><br><span class="line">labels = [<span class="string">&#x27;Jan&#x27;</span>, <span class="string">&#x27;Feb&#x27;</span>, <span class="string">&#x27;Mar&#x27;</span>, <span class="string">&#x27;Apr&#x27;</span>]</span><br><span class="line">num1 = [<span class="number">20</span>, <span class="number">30</span>, <span class="number">15</span>, <span class="number">35</span>] <span class="comment">#Dept1的数据</span></span><br><span class="line">num2 = [<span class="number">15</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">20</span>] <span class="comment">#Dept2的数据</span></span><br><span class="line">cordx = <span class="built_in">range</span>(<span class="built_in">len</span>(num1)) <span class="comment">#x轴刻度位置</span></span><br><span class="line">rects1 = ax.bar(x = cordx, height=num1, width=<span class="number">0.5</span>, color=<span class="string">&#x27;red&#x27;</span>, label=<span class="string">&quot;Dept1&quot;</span>)</span><br><span class="line">rects2 = ax.bar(x = cordx, height=num2, width=<span class="number">0.5</span>, color=<span class="string">&#x27;green&#x27;</span>,</span><br><span class="line">label=<span class="string">&quot;Dept2&quot;</span>, bottom=num1)</span><br><span class="line">ax.set_ylim(<span class="number">0</span>, <span class="number">100</span>) <span class="comment">#y轴坐标范围</span></span><br><span class="line">ax.set_ylabel(<span class="string">&quot;Profit&quot;</span>) <span class="comment">#y轴含义(标签)</span></span><br><span class="line">ax.set_xticks(cordx) <span class="comment">#设置x轴刻度位置</span></span><br><span class="line">ax.set_xticklabels(labels) <span class="comment">#设置x轴刻度下方文字</span></span><br><span class="line">ax.set_xlabel(<span class="string">&quot;In year 2020&quot;</span>) <span class="comment">#x轴含义(标签)</span></span><br><span class="line">ax.set_title(<span class="string">&quot;My Company&quot;</span>)</span><br><span class="line">ax.legend() <span class="comment">#在右上角显示图例说明</span></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<img src="/2023/02/01/%E5%AE%9E%E7%94%A8Python%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1MOOC-%E7%AC%AC%E5%8D%81%E4%B8%80%E7%AB%A0%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E5%92%8C%E5%B1%95%E7%A4%BA/%E7%BB%98%E5%88%B6%E5%A0%86%E5%8F%A0%E7%9B%B4%E6%96%B9%E5%9B%BE.png" class="" title="绘制堆叠直方图">
<h2 id="绘制对比直方图-有多组数据）"><a href="#绘制对比直方图-有多组数据）" class="headerlink" title="绘制对比直方图(有多组数据）"></a>绘制对比直方图(有多组数据）</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">ax = plt.figure(figsize=(<span class="number">10</span>,<span class="number">5</span>)).add_subplot()<span class="comment">#建图，获取子图对象ax</span></span><br><span class="line">ax.set_ylim(<span class="number">0</span>,<span class="number">400</span>) <span class="comment">#指定y轴坐标范围</span></span><br><span class="line">ax.set_xlim(<span class="number">0</span>,<span class="number">80</span>) <span class="comment">#指定x轴坐标范围</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#以下是3组直方图的数据</span></span><br><span class="line">x1 = [<span class="number">7</span>, <span class="number">17</span>, <span class="number">27</span>, <span class="number">37</span>, <span class="number">47</span>, <span class="number">57</span>] <span class="comment">#第一组直方图每个柱子中心点的横坐标</span></span><br><span class="line">x2 = [<span class="number">13</span>, <span class="number">23</span>, <span class="number">33</span>, <span class="number">43</span>, <span class="number">53</span>, <span class="number">63</span>] <span class="comment">#第二组直方图每个柱子中心点的横坐标</span></span><br><span class="line">x3 = [<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>, <span class="number">60</span>] <span class="comment">#第三组直方图每个柱子中心点的横坐标</span></span><br><span class="line">y1 = [<span class="number">41</span>, <span class="number">39</span>, <span class="number">13</span>, <span class="number">69</span>, <span class="number">39</span>, <span class="number">14</span>] <span class="comment">#第一组直方图每个柱子的高度</span></span><br><span class="line">y2 = [<span class="number">123</span>, <span class="number">15</span>, <span class="number">20</span>, <span class="number">105</span>, <span class="number">79</span>, <span class="number">37</span>] <span class="comment">#第二组直方图每个柱子的高度</span></span><br><span class="line">y3 = [<span class="number">124</span>, <span class="number">91</span>, <span class="number">204</span>, <span class="number">264</span>, <span class="number">221</span>, <span class="number">175</span>] <span class="comment">#第三组直方图每个柱子的高度</span></span><br><span class="line"></span><br><span class="line">rects1 = ax.bar(x1, y1, facecolor=<span class="string">&#x27;red&#x27;</span>, width=<span class="number">3</span>, label=<span class="string">&#x27;Iphone&#x27;</span>)</span><br><span class="line">rects2 = ax.bar(x2, y2, facecolor=<span class="string">&#x27;green&#x27;</span>, width=<span class="number">3</span>, label=<span class="string">&#x27;Huawei&#x27;</span>)</span><br><span class="line">rects3 = ax.bar(x3, y3, facecolor=<span class="string">&#x27;blue&#x27;</span>, width=<span class="number">3</span>, label=<span class="string">&#x27;Xiaomi&#x27;</span>)</span><br><span class="line"></span><br><span class="line">ax.set_xticks(x3) <span class="comment">#x轴在x3中的各坐标点下面加刻度</span></span><br><span class="line">ax.set_xticklabels((<span class="string">&#x27;A1&#x27;</span>,<span class="string">&#x27;A2&#x27;</span>,<span class="string">&#x27;A3&#x27;</span>,<span class="string">&#x27;A4&#x27;</span>,<span class="string">&#x27;A5&#x27;</span>,<span class="string">&#x27;A6&#x27;</span>))</span><br><span class="line"><span class="comment">#指定x轴上每一刻度下方的文字</span></span><br><span class="line">ax.legend() <span class="comment">#显示右上角三组图的说明</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">label</span>(<span class="params">ax,rects</span>): <span class="comment">#在rects的每个柱子顶端标注数值</span></span><br><span class="line">	<span class="keyword">for</span> rect <span class="keyword">in</span> rects:</span><br><span class="line">		height = rect.get_height()</span><br><span class="line">		ax.text(rect.get_x() + rect.get_width()/<span class="number">2</span>, height+<span class="number">14</span>, <span class="built_in">str</span>(height), rotation=<span class="number">90</span>) <span class="comment">#文字旋转90度</span></span><br><span class="line">label(ax,rects1)</span><br><span class="line">label(ax,rects2)</span><br><span class="line">label(ax,rects3)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<img src="/2023/02/01/%E5%AE%9E%E7%94%A8Python%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1MOOC-%E7%AC%AC%E5%8D%81%E4%B8%80%E7%AB%A0%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E5%92%8C%E5%B1%95%E7%A4%BA/%E7%BB%98%E5%88%B6%E5%AF%B9%E6%AF%94%E7%9B%B4%E6%96%B9%E5%9B%BE.png" class="" title="绘制对比直方图">
<h2 id="绘制散点、折线图"><a href="#绘制散点、折线图" class="headerlink" title="绘制散点、折线图"></a>绘制散点、折线图</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> math,random</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">drawPlot</span>(<span class="params">ax</span>):</span><br><span class="line">    xs = [i / <span class="number">100</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1500</span>)] <span class="comment">#1500个点的横坐标，间隔0.01</span></span><br><span class="line">    ys = [<span class="number">10</span>*math.sin(x) <span class="keyword">for</span> x <span class="keyword">in</span> xs]</span><br><span class="line">    <span class="comment">#对应曲线y=10*sin(x)上的1500个点的y坐标</span></span><br><span class="line">    ax.plot(xs, ys, <span class="string">&quot;red&quot;</span>, label=<span class="string">&quot;Beijing&quot;</span>) <span class="comment">#画曲线y=10*sin(x)</span></span><br><span class="line">    ys = <span class="built_in">list</span>(<span class="built_in">range</span>(-<span class="number">18</span>, <span class="number">18</span>))</span><br><span class="line">    random.shuffle(ys)</span><br><span class="line">    ax.scatter(<span class="built_in">range</span>(<span class="number">16</span>), ys[:<span class="number">16</span>], c = <span class="string">&quot;blue&quot;</span>) <span class="comment">#画散点</span></span><br><span class="line">    ax.plot(<span class="built_in">range</span>(<span class="number">16</span>), ys[:<span class="number">16</span>], <span class="string">&quot;blue&quot;</span>, label=<span class="string">&quot;Shanghai&quot;</span>) <span class="comment">#画折线</span></span><br><span class="line">    ax.legend() <span class="comment">#显示右上角的各条折线说明</span></span><br><span class="line">    ax.set_xticks(<span class="built_in">range</span>(<span class="number">16</span>)) <span class="comment">#x轴在坐标0,1...15处加刻度</span></span><br><span class="line">    ax.set_xticklabels(<span class="built_in">range</span>(<span class="number">16</span>)) <span class="comment">#指定x轴每个刻度下方显示的文字</span></span><br><span class="line">ax = plt.figure(figsize=(<span class="number">10</span>, <span class="number">4</span>),dpi=<span class="number">100</span>).add_subplot() <span class="comment">#图像长宽和清晰度</span></span><br><span class="line">drawPlot(ax)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<img src="/2023/02/01/%E5%AE%9E%E7%94%A8Python%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1MOOC-%E7%AC%AC%E5%8D%81%E4%B8%80%E7%AB%A0%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E5%92%8C%E5%B1%95%E7%A4%BA/%E7%BB%98%E5%88%B6%E6%95%A3%E7%82%B9%E6%8A%98%E7%BA%BF%E5%9B%BE.png" class="" title="绘制散点折线图">
<h2 id="绘制饼图"><a href="#绘制饼图" class="headerlink" title="绘制饼图"></a>绘制饼图</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">drawPie</span>(<span class="params">ax</span>):</span><br><span class="line">	lbs = (<span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;C&#x27;</span>, <span class="string">&#x27;D&#x27;</span>) <span class="comment">#四个扇区的标签</span></span><br><span class="line">	sectors = [<span class="number">16</span>, <span class="number">29.55</span>, <span class="number">44.45</span>, <span class="number">10</span>] <span class="comment">#四个扇区的份额（百分比）</span></span><br><span class="line">	expl = [<span class="number">0</span>, <span class="number">0.1</span>, <span class="number">0</span>, <span class="number">0</span>] <span class="comment">#四个扇区的突出程度</span></span><br><span class="line">	ax.pie(x=sectors, labels=lbs, explode=expl, autopct=<span class="string">&#x27;%.2f&#x27;</span>, shadow=<span class="literal">True</span>, labeldistance=<span class="number">1.1</span>, pctdistance=<span class="number">0.6</span>, startangle=<span class="number">90</span>)</span><br><span class="line">    <span class="comment">#autopct自动填充数字的格式，shadow是否有阴影，labeldistance扇区标签的距离，pctdistance饼内标签距离圆心距离是半径的多少倍，startangle画图的起始位置逆时针顺序</span></span><br><span class="line">	ax.set_title(<span class="string">&quot;pie sample&quot;</span>) <span class="comment">#饼图标题</span></span><br><span class="line">ax = plt.figure().add_subplot()</span><br><span class="line">drawPie(ax)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<img src="/2023/02/01/%E5%AE%9E%E7%94%A8Python%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1MOOC-%E7%AC%AC%E5%8D%81%E4%B8%80%E7%AB%A0%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E5%92%8C%E5%B1%95%E7%A4%BA/%E7%BB%98%E5%88%B6%E9%A5%BC%E5%9B%BE.png" class="" title="绘制饼图">
<h2 id="绘制热力图"><a href="#绘制热力图" class="headerlink" title="绘制热力图"></a>绘制热力图</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> pyplot <span class="keyword">as</span> plt</span><br><span class="line">data = np.random.randint(<span class="number">0</span>, <span class="number">100</span>, <span class="number">30</span>).reshape(<span class="number">5</span>, <span class="number">6</span>)</span><br><span class="line"><span class="comment">#生成一个5行6列,元素[0,100]内的随机矩阵</span></span><br><span class="line">xlabels = [<span class="string">&#x27;Beijing&#x27;</span>, <span class="string">&#x27;Shanghai&#x27;</span>, <span class="string">&#x27;Chengdu&#x27;</span>, <span class="string">&#x27;Guangzhou&#x27;</span>, <span class="string">&#x27;Hangzhou&#x27;</span>, <span class="string">&#x27;Wuhan&#x27;</span>]</span><br><span class="line">ylabels = [<span class="string">&#x27;2016&#x27;</span>, <span class="string">&#x27;2017&#x27;</span>, <span class="string">&#x27;2018&#x27;</span>, <span class="string">&#x27;2019&#x27;</span>, <span class="string">&#x27;2020&#x27;</span>]</span><br><span class="line"></span><br><span class="line">ax = plt.figure(figsize=(<span class="number">10</span>,<span class="number">8</span>)).add_subplot()</span><br><span class="line">ax.set_yticks(<span class="built_in">range</span>(<span class="built_in">len</span>(ylabels))) <span class="comment">#y轴在坐标[0,len(ylabels)) 处加刻度</span></span><br><span class="line">ax.set_yticklabels(ylabels) <span class="comment">#设置y轴刻度文字</span></span><br><span class="line">ax.set_xticks(<span class="built_in">range</span>(<span class="built_in">len</span>(xlabels)))</span><br><span class="line">ax.set_xticklabels(xlabels)</span><br><span class="line"></span><br><span class="line">heatMp = ax.imshow(data, cmap=plt.cm.hot, aspect=<span class="string">&#x27;auto&#x27;</span>, vmin=<span class="number">0</span>, vmax=<span class="number">100</span>)</span><br><span class="line"><span class="comment">#imshow(data矩阵, cmap=plt.cm.cold冷图, aspect, vmin-vmx指明热力图的最大最小值 不写取数据最大最小)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#热力图写数据标签</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(xlabels)):</span><br><span class="line">	<span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(ylabels)):</span><br><span class="line">		ax.text(i, j, data[j][i], ha=<span class="string">&quot;center&quot;</span>, va=<span class="string">&quot;center&quot;</span>, color=<span class="string">&quot;blue&quot;</span>, size=<span class="number">26</span>)</span><br><span class="line"></span><br><span class="line">plt.colorbar(heatMp) <span class="comment">#绘制右边的颜色-数值对照柱</span></span><br><span class="line">plt.xticks(rotation=<span class="number">45</span>, ha=<span class="string">&quot;right&quot;</span>) <span class="comment">#将x轴刻度文字进行旋转，且水平方向右对齐</span></span><br><span class="line">plt.title(<span class="string">&quot;Sales Volume(ton)&quot;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<img src="/2023/02/01/%E5%AE%9E%E7%94%A8Python%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1MOOC-%E7%AC%AC%E5%8D%81%E4%B8%80%E7%AB%A0%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E5%92%8C%E5%B1%95%E7%A4%BA/%E7%BB%98%E5%88%B6%E7%83%AD%E5%8A%9B%E5%9B%BE.png" class="" title="绘制热力图">
<h2 id="绘制雷达图"><a href="#绘制雷达图" class="headerlink" title="绘制雷达图"></a>绘制雷达图</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> rcParams <span class="comment">#处理汉字用</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">drawRadar</span>(<span class="params">ax</span>):</span><br><span class="line">    pi = <span class="number">3.1415926</span></span><br><span class="line">    labels = [<span class="string">&#x27;EQ&#x27;</span>,<span class="string">&#x27;IQ&#x27;</span>,<span class="string">&#x27;人缘&#x27;</span>,<span class="string">&#x27;魅力&#x27;</span>,<span class="string">&#x27;财富&#x27;</span>,<span class="string">&#x27;体力&#x27;</span>] <span class="comment">#6个属性的名称</span></span><br><span class="line">    attrNum = <span class="built_in">len</span>(labels) <span class="comment">#attrNum是属性种类数，此处等于6</span></span><br><span class="line">    data = [<span class="number">7</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">8</span>,<span class="number">2</span>] <span class="comment">#六个属性的值</span></span><br><span class="line">    angles = [<span class="number">2</span>*pi*i/attrNum <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(attrNum)]</span><br><span class="line">    <span class="comment">#angles是以弧度为单位的6个属性对应的6条半径线的角度</span></span><br><span class="line">    angles2 = [x * <span class="number">180</span>/pi <span class="keyword">for</span> x <span class="keyword">in</span> angles]</span><br><span class="line">    <span class="comment">#angles2是以角度为单位的6个属性对应的半径线的角度</span></span><br><span class="line">    ax.set_ylim(<span class="number">0</span>, <span class="number">10</span>)</span><br><span class="line">    <span class="comment">#限定半径线上的坐标范围，限定模长</span></span><br><span class="line">    ax.set_thetagrids(angles2, labels, fontproperties=<span class="string">&quot;SimHei&quot;</span>)</span><br><span class="line">    <span class="comment">#绘制6个属性对应的6条半径(六条半径角度, 属性, 字体样式)</span></span><br><span class="line">    ax.fill(angles, data, facecolor=<span class="string">&#x27;g&#x27;</span>, alpha=<span class="number">0.25</span>)</span><br><span class="line">    <span class="comment">#填充,facecolor=&#x27;g&#x27;绿色填充,alpha:透明度</span></span><br><span class="line">rcParams[<span class="string">&#x27;font.family&#x27;</span>] = rcParams[<span class="string">&#x27;font.sans-serif&#x27;</span>] = <span class="string">&#x27;SimHei&#x27;</span></span><br><span class="line"><span class="comment">#处理汉字</span></span><br><span class="line">ax = plt.figure().add_subplot(projection=<span class="string">&quot;polar&quot;</span>) <span class="comment">#生成极坐标形式子图</span></span><br><span class="line">drawRadar(ax)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<img src="/2023/02/01/%E5%AE%9E%E7%94%A8Python%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1MOOC-%E7%AC%AC%E5%8D%81%E4%B8%80%E7%AB%A0%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E5%92%8C%E5%B1%95%E7%A4%BA/%E7%BB%98%E5%88%B6%E9%9B%B7%E8%BE%BE%E5%9B%BE.png" class="" title="绘制雷达图">
<h2 id="绘制多层雷达图"><a href="#绘制多层雷达图" class="headerlink" title="绘制多层雷达图"></a>绘制多层雷达图</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> rcParams</span><br><span class="line"></span><br><span class="line">rcParams[<span class="string">&#x27;font.family&#x27;</span>] = rcParams[<span class="string">&#x27;font.sans-serif&#x27;</span>] = <span class="string">&#x27;SimHei&#x27;</span></span><br><span class="line">pi = <span class="number">3.1415926</span></span><br><span class="line">labels = [<span class="string">&#x27;EQ&#x27;</span>, <span class="string">&#x27;IQ&#x27;</span>, <span class="string">&#x27;人缘&#x27;</span>, <span class="string">&#x27;魅力&#x27;</span>, <span class="string">&#x27;财富&#x27;</span>, <span class="string">&#x27;体力&#x27;</span>]  <span class="comment"># 6个属性的名称</span></span><br><span class="line">attrNum = <span class="built_in">len</span>(labels)</span><br><span class="line">names = (<span class="string">&#x27;张三&#x27;</span>, <span class="string">&#x27;李四&#x27;</span>, <span class="string">&#x27;王五&#x27;</span>)</span><br><span class="line">data = [[<span class="number">0.40</span>, <span class="number">0.32</span>, <span class="number">0.35</span>], [<span class="number">0.85</span>, <span class="number">0.35</span>, <span class="number">0.30</span>],</span><br><span class="line">        [<span class="number">0.40</span>, <span class="number">0.32</span>, <span class="number">0.35</span>], [<span class="number">0.40</span>, <span class="number">0.82</span>, <span class="number">0.75</span>],</span><br><span class="line">        [<span class="number">0.14</span>, <span class="number">0.12</span>, <span class="number">0.35</span>], [<span class="number">0.80</span>, <span class="number">0.92</span>, <span class="number">0.35</span>]]  <span class="comment"># 三个人的数据</span></span><br><span class="line">angles = [<span class="number">2</span> * pi * i / attrNum <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(attrNum)]</span><br><span class="line">angles2 = [x * <span class="number">180</span> / pi <span class="keyword">for</span> x <span class="keyword">in</span> angles]</span><br><span class="line">ax = plt.figure().add_subplot(projection=<span class="string">&quot;polar&quot;</span>)</span><br><span class="line">ax.fill(angles, data, alpha=<span class="number">0.25</span>)</span><br><span class="line">ax.set_thetagrids(angles2, labels)</span><br><span class="line">ax.set_title(<span class="string">&#x27;三巨头人格分析&#x27;</span>, y=<span class="number">1.05</span>)  <span class="comment"># y指明标题垂直位置</span></span><br><span class="line">ax.legend(names, loc=(<span class="number">0.95</span>, <span class="number">0.9</span>))  <span class="comment"># 画出右上角不同人的颜色说明</span></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<img src="/2023/02/01/%E5%AE%9E%E7%94%A8Python%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1MOOC-%E7%AC%AC%E5%8D%81%E4%B8%80%E7%AB%A0%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E5%92%8C%E5%B1%95%E7%A4%BA/%E7%BB%98%E5%88%B6%E5%A4%9A%E5%B1%82%E9%9B%B7%E8%BE%BE%E5%9B%BE.png" class="" title="绘制多层雷达图">
<h2 id="多子图绘制"><a href="#多子图绘制" class="headerlink" title="多子图绘制"></a>多子图绘制</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#程序中的import、汉字处理及drawRadar、 drawPie、 drawPlot函数略，见前面程序</span></span><br><span class="line">fig = plt.figure(figsize=(<span class="number">8</span>, <span class="number">8</span>))</span><br><span class="line">ax = fig.add_subplot(<span class="number">2</span>, <span class="number">2</span>, <span class="number">1</span>)  <span class="comment"># 窗口分割成2*2，取位于第1个方格的子图</span></span><br><span class="line">drawPie(ax)</span><br><span class="line"></span><br><span class="line">ax = fig.add_subplot(<span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>, projection=<span class="string">&quot;polar&quot;</span>)</span><br><span class="line">drawRadar(ax)</span><br><span class="line"></span><br><span class="line">ax = plt.subplot2grid((<span class="number">2</span>, <span class="number">2</span>), (<span class="number">1</span>, <span class="number">0</span>), colspan=<span class="number">2</span>)</span><br><span class="line"><span class="comment"># 或写成: ax = fig.add_subplot(2,1,2)</span></span><br><span class="line">drawPlot(ax)</span><br><span class="line"></span><br><span class="line">plt.figtext(<span class="number">0.05</span>, <span class="number">0.05</span>, <span class="string">&#x27;subplot sample&#x27;</span>)  <span class="comment"># 显示左下角的图像标题</span></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<img src="/2023/02/01/%E5%AE%9E%E7%94%A8Python%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1MOOC-%E7%AC%AC%E5%8D%81%E4%B8%80%E7%AB%A0%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E5%92%8C%E5%B1%95%E7%A4%BA/%E5%A4%9A%E5%AD%90%E5%9B%BE%E7%BB%98%E5%88%B6.png" class="" title="多子图绘制">
<h1 id="词云的使用"><a href="#词云的使用" class="headerlink" title="词云的使用"></a>词云的使用</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># coding=utf-8</span></span><br><span class="line"><span class="comment"># Version:python3.6.0</span></span><br><span class="line"><span class="comment"># 添加自定义分词</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> jieba</span><br><span class="line"><span class="keyword">from</span> os <span class="keyword">import</span> path  <span class="comment"># 用来获取文档的路径</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 词云</span></span><br><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="comment"># 词云生成工具</span></span><br><span class="line"><span class="keyword">from</span> wordcloud <span class="keyword">import</span> WordCloud, ImageColorGenerator</span><br><span class="line"><span class="comment"># 需要对中文进行处理</span></span><br><span class="line"><span class="keyword">import</span> matplotlib.font_manager <span class="keyword">as</span> fm</span><br><span class="line"></span><br><span class="line"><span class="comment"># 背景图</span></span><br><span class="line">bg = np.array(Image.<span class="built_in">open</span>(<span class="string">&quot;love.png&quot;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取当前的项目文件加的路径</span></span><br><span class="line">d = path.dirname(__file__)</span><br><span class="line"><span class="comment"># 读取停用词表</span></span><br><span class="line">stopwords_path = <span class="string">&#x27;stopwords.txt&#x27;</span></span><br><span class="line"><span class="comment"># 添加需要自定以的分词</span></span><br><span class="line"><span class="comment"># jieba.add_word(&quot;叶文洁&quot;)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 读取要分析的文本</span></span><br><span class="line">text_path = <span class="string">&quot;sanguoyanyiutf8.txt&quot;</span></span><br><span class="line"><span class="comment"># 读取要分析的文本，读取格式</span></span><br><span class="line">text = <span class="built_in">open</span>(path.join(d, text_path), encoding=<span class="string">&quot;utf8&quot;</span>).read()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义个函数式用于分词</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">jiebaclearText</span>(<span class="params">text</span>):</span><br><span class="line">    <span class="comment"># 定义一个空的列表，将去除的停用词的分词保存</span></span><br><span class="line">    mywordList = []</span><br><span class="line">    <span class="comment"># 进行分词</span></span><br><span class="line">    seg_list = jieba.cut(text, cut_all=<span class="literal">False</span>)</span><br><span class="line">    <span class="comment"># 将一个generator的内容用/连接</span></span><br><span class="line">    listStr = <span class="string">&#x27;/&#x27;</span>.join(seg_list)</span><br><span class="line">    <span class="comment"># 打开停用词表</span></span><br><span class="line">    f_stop = <span class="built_in">open</span>(stopwords_path, encoding=<span class="string">&quot;utf8&quot;</span>)</span><br><span class="line">    <span class="comment"># 读取</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        f_stop_text = f_stop.read()</span><br><span class="line">    <span class="keyword">finally</span>:</span><br><span class="line">        f_stop.close()  <span class="comment"># 关闭资源</span></span><br><span class="line">    <span class="comment"># 将停用词格式化，用\n分开，返回一个列表</span></span><br><span class="line">    f_stop_seg_list = f_stop_text.split(<span class="string">&quot;\n&quot;</span>)</span><br><span class="line">    <span class="comment"># 对默认模式分词的进行遍历，去除停用词</span></span><br><span class="line">    <span class="keyword">for</span> myword <span class="keyword">in</span> listStr.split(<span class="string">&#x27;/&#x27;</span>):</span><br><span class="line">        <span class="comment"># 去除停用词</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> (myword.split()) <span class="keyword">in</span> f_stop_seg_list <span class="keyword">and</span> <span class="built_in">len</span>(myword.strip()) &gt; <span class="number">1</span>:</span><br><span class="line">            mywordList.append(myword)</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27; &#x27;</span>.join(mywordList)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">text1 = jiebaclearText(text)</span><br><span class="line"><span class="comment"># 生成</span></span><br><span class="line">wc = WordCloud(</span><br><span class="line">    background_color=<span class="string">&quot;white&quot;</span>,  <span class="comment"># 设置背景为白色，默认为黑色</span></span><br><span class="line">    width=<span class="number">990</span>,  <span class="comment"># 设置图片的宽度</span></span><br><span class="line">    height=<span class="number">440</span>,  <span class="comment"># 设置图片的高度</span></span><br><span class="line">    margin=<span class="number">10</span>,  <span class="comment"># 设置图片的边缘</span></span><br><span class="line"></span><br><span class="line">    max_font_size=<span class="number">50</span>,</span><br><span class="line">    random_state=<span class="number">30</span>,</span><br><span class="line">    font_path=<span class="string">&#x27;C:/Windows/Fonts/simkai.ttf&#x27;</span>  <span class="comment"># 中文处理，用系统自带的字体</span></span><br><span class="line">).generate(text1)</span><br><span class="line"><span class="comment"># 为图片设置字体</span></span><br><span class="line">my_font = fm.FontProperties(fname=<span class="string">&#x27;C:/Windows/Fonts/simkai.ttf&#x27;</span>)</span><br><span class="line"><span class="comment"># 产生背景图片，基于彩色图像的颜色生成器</span></span><br><span class="line">image_colors = ImageColorGenerator(bg)</span><br><span class="line"><span class="comment"># 开始画图</span></span><br><span class="line">plt.imshow(wc)</span><br><span class="line"><span class="comment"># 为云图去掉坐标轴</span></span><br><span class="line">plt.axis(<span class="string">&quot;off&quot;</span>)</span><br><span class="line"><span class="comment"># 画云图，显示</span></span><br><span class="line"><span class="comment"># 保存云图</span></span><br><span class="line">wc.to_file(<span class="string">&quot;sgresult3.png&quot;</span>)</span><br></pre></td></tr></table></figure></div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">HibisciDai</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://hibiscidai.com/2023/02/01/实用Python程序设计MOOC-第十一章数据分析和展示/">http://hibiscidai.com/2023/02/01/实用Python程序设计MOOC-第十一章数据分析和展示/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://hibiscidai.com">HibisciDai</a>！</span></div></div><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a><a class="post-meta__tags" href="/tags/Python/">Python</a><a class="post-meta__tags" href="/tags/PythonMOOC/">PythonMOOC</a></div><div class="social-share pull-right" data-disabled="linkedin,diandian"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/js/social-share.min.js"></script><nav id="pagination"><div class="prev-post pull-left"><a href="/2023/02/02/%E5%AE%9E%E7%94%A8Python%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1MOOC-%E7%AC%AC%E5%8D%81%E4%BA%8C%E7%AB%A0%E7%BD%91%E7%BB%9C%E7%88%AC%E8%99%AB%E8%AE%BE%E8%AE%A1/"><i class="fa fa-chevron-left">  </i><span>实用Python程序设计MOOC-第十二章网络爬虫设计</span></a></div><div class="next-post pull-right"><a href="/2023/01/30/%E5%AE%9E%E7%94%A8Python%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1MOOC-%E7%AC%AC%E5%8D%81%E7%AB%A0%E7%8E%A9%E8%BD%ACPython%E7%94%9F%E6%80%81/"><span>实用Python程序设计MOOC-第十章玩转Python生态</span><i class="fa fa-chevron-right"></i></a></div></nav><div class="post-adv"><a target="_blank" rel="noopener" href="https://xn--mesr8b36x.agency/#/register?code=R5RS1JHy">好用、实惠、稳定的梯子,点击这里<img src="https://pic.imgdb.cn/item/65572abac458853aefef30cd.png" width="1000" height="124" object-fit="cover" ></a></div><div id="lv-container" data-id="city" data-uid="MTAyMC8zNTQ2NC8xMjAwMA=="><script>(function(d, s) {
    var j, e = d.getElementsByTagName(s)[0];
    if (typeof LivereTower === 'function') { return; }
    j = d.createElement(s);
    j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
    j.async = true;
    e.parentNode.insertBefore(j, e);
})(document, 'script');</script></div></div></div><footer class="footer-bg" style="background-image: url(/img/banner2.jpg)"><div class="layout" id="footer"><div class="copyright">&copy;2017 - 2024 By HibisciDai</div><div class="framework-info"><span>驱动 - </span><a target="_blank" rel="noopener" href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 - </span><a target="_blank" rel="noopener" href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="footer_custom_text">hitokoto</div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fa fa-file"></i><span id="busuanzi_value_page_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="/js/third-party/anime.min.js"></script><script src="/js/third-party/jquery.min.js"></script><script src="/js/third-party/jquery.fancybox.min.js"></script><script src="/js/third-party/velocity.min.js"></script><script src="/js/third-party/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.9.0"></script><script src="/js/fancybox.js?version=1.9.0"></script><script src="/js/sidebar.js?version=1.9.0"></script><script src="/js/copy.js?version=1.9.0"></script><script src="/js/fireworks.js?version=1.9.0"></script><script src="/js/transition.js?version=1.9.0"></script><script src="/js/scroll.js?version=1.9.0"></script><script src="/js/head.js?version=1.9.0"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
    processEscapes: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
  },
  CommonHTML: {
    linebreaks: { automatic: true, width: "90% container" }
  },
  "HTML-CSS": { 
    linebreaks: { automatic: true, width: "90% container" }
  },
  "SVG": { 
    linebreaks: { automatic: true, width: "90% container" }
  }
});
</script><script type="text/x-mathjax-config">MathJax.Hub.Queue(function() {
  var all = MathJax.Hub.getAllJax(), i;
  for (i=0; i < all.length; i += 1) {
    all[i].SourceElement().parentNode.className += ' has-jax';
  }
});
</script><script src="https://cdn.bootcss.com/mathjax/2.7.2/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.css"><script src="/js/katex.js"></script><script src="/js/search/local-search.js"></script><script id="ribbon" src="/js/third-party/canvas-ribbon.js" size="150" alpha="0.6" zIndex="-1" data-click="false"></script><script>if(/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
  $('#top-container').addClass('is-mobile')
}</script><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章"></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>由</span> <a target="_blank" rel="noopener" href="https://github.com/wzpan/hexo-generator-search" style="color:#49B1F5;">hexo-generator-search</a>
 <span>提供支持</span></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div></body></html>